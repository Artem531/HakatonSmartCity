Данная папка содержит два решения:

(Прежде чем их запустить нужно убедиться, что на компьютере есть "cuda 9"(И видеокарта от Nvidia не хуже gtx 1060 3gb dual (Не уверен будет ли работать на старых 
карточках, у меня gtx 1060 3gb dual и работает "нормально". Более старые версии видеокарт могут не поддерживаться YOLOv3 плюс, чем лучше видеокарта тем быстрее будет 
обрабатываться видео поток) и установить python версии 3.5.5 и Anaconda c сайта "https://www.anaconda.com/". Затем в консоли анаконды командой 
"conda create --name env3-gpu --file req.txt" установить все необходимые библиотеки для работы алгоритма (Это может занять время))

1) people_counter.py
	
	Считает людей перешедших черту. (Техническое задание)

Чтобы запустить код нужно:
1) в консоли анаконды перейти в папку с people_counter.py (Командой "cd путь")
2) активировать окружение env3-gpu с установленными библиотеками (Командой "Conda activate env3-gpu")
3) запустить алгоритм командой ниже:
python people_counter.py --prototxt mobilenet_ssd/MobileNetSSD_deploy.prototxt  --model mobilenet_ssd/MobileNetSSD_deploy.caffemodel --input videos/example_02.mp4 --output output/output_02.avi


Данный код был взят с сайта: https://www.pyimagesearch.com/2018/08/13/opencv-people-counter/
На его основе был сделан car_counter.py

2) car_counter.py

	Считает машинный трафик. (Кейс)


Чтобы запустить код нужно:
1) в консоли анаконды перейти в папку с people_counter.py (Командой "cd путь")
2) активировать окружение env3-gpu с установленными библиотеками (Командой "Conda activate env3-gpu")
3) запустить алгоритм командой ниже:
python car_counter.py --input videos/Novgorod_2019-04-05-15_15_00.mp4 --output output/result.avi

Основным различием car_counter.py от people_counter.py:
1) Использование более продвинутой версии алгоритма детектинга: YOLOv3, так как mobilenet из people_counter.py не справляется.
Машины он не видит в том видео.

2) Убраны лишние консольные команды определяющие алгоритм детектинга из списка opencv.

3) Алгоритм считает объекты по двум вертикальным линиям, а не по одной горизонтальной.

4) Изменено условие подсчета объектов для более стабильной работы и отсеивания лжеположительных ответов во время дергания рамки стоячей машины возле вертикальной линии.

5) Подобраны подходящие параметры трекера maxDisappeared и maxDistance для обработки видео с машинами.





